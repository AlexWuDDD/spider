# 代理的基本原理

我们在做爬虫的时候经常会遇到这样的情况，最初爬虫正常运行，正常抓取数据，一切看起来都是那么美好，
然而一杯茶的功夫可能就会出现错误，比如403 Forbidden，这时候打开网页一看，可能会看到
"您的IP访问率太高"这样的提示。这先这种现象的原因是网站采取了一些反爬虫措施。
比如，服务器会检测某个IP在单位时间内的请求次数，
如果超过了这个阀值，就会直接拒绝服务，返回一些错误信息，这种情况可以称为封IP。

既然服务器检测的是某个IP单位时间的请求次数，那么借助某种方式来伪装我们的IP，
让服务器识别不出是我们本机发起的请求，不就可以成功防止封IP了吗？

一种有效的方式就是使用代理。

## 基本原理

代理实际上指的就是代理服务器，proxy server

功能是代理网络用户去取得网络信息。形象的說就是网络信息的中转站。

我们正常请求一个网站时，是发送了请求给web服务器，web服务器把相应传回给我们。

如果设置了代理服务器，实际上就是在本机和服务器之间搭建了一个桥，
此时本机不是直接向Web服务器发起请求，而是想代理服务器发出强求，请求会发送给代理服务器，
然后代理服务器再发送给Web服务器，接着由代理服务器再把Web服务器返回的响应转发给本机。

这样我们同样可以正常访问网页，但这个过程中Web服务器识别出的真实IP就不再是我们本机的IP了，
就成功实现了IP伪装，这就是代理的基本原理。

## 代理的作用

- 突破自身IP访问限制，访问一些平时不能访问的站点
- 访问一些单位或团体内部资源：比如使用教育网内地址段免费代理器，
就可以用于对教育网开放的各类FTP下载上传，以及各类资料查询共享等服务。
- 提高访问速度
- 隐藏真实IP

## 爬虫代理

## 代理分类

### 根据协议区分

- FTP代理服务器
- HTTP 代理服务器
- SSL/TLS代理
- RTSP代理：用于访问Real流媒体服务器
- Telnet代理
- POP3/SMTP代理
- SOCKS代理：只是单纯传递数据包，不关心具体协议和用法。

### 根据匿名程度区分

- 高度匿名代理
- 普通匿名代理
- 透明代理
- 间谍代理

## 常见代理设置

- 使用网上的免费代理
- 使用付费代理服务
- ADSL拨号：拨一次号换一次IP，稳定性高，也是一种比较有效的解决方案。

